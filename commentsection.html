<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="https://i.ibb.co/hFLqtg0C/smileyguyfavicon.png" type="image/x-icon">
    
<h1>COMMENT SECTION!!</h1>
<hr>
<h2>Here, type whatever the hell you want!</h2>
<div id="comments-section">
    <form id="comment-form">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
        <br>
        <label for="comment">THE Comment:</label>
        <textarea id="comment" name="comment" rows="4" required></textarea>
        <br>
        <button type="submit">Post Comment</button>
    </form>
    <ul id="comments-list"></ul>
</div>
<script>
/*
    Store and load comments from a remote server so they're visible on any device.
    This example uses a free public API (jsonbin.io) for demonstration.
    Replace 'YOUR_BIN_ID' and 'YOUR_API_KEY' with your own values from jsonbin.io.
*/

// CONFIGURATION
const BIN_ID = '68bd0314d0ea881f40748be2'; // Replace with your bin ID
const API_KEY = '$2a$10$avfWmiwziFuNWnKo9JMeveY7mR4D4VhTDFrJoWAugkq2qxXOy78kW'; // Replace with your API key
const API_URL = `https://api.jsonbin.io/v3/b/${BIN_ID}`;

// Helper to fetch comments
async function fetchComments() {
        try {
                const res = await fetch(API_URL, {
                        headers: { 'X-Access-Key': API_KEY }
                });
                const data = await res.json();
                return data.record || [];
        } catch (e) {
                return [];
        }
}

// Helper to save comments
async function saveComments(comments) {
        await fetch(API_URL, {
                method: 'PUT',
                headers: {
                        'Content-Type': 'application/json',
                        'X-Access-Key': API_KEY
                },
                body: JSON.stringify(comments)
        });
}

// Load comments on page load
window.addEventListener('DOMContentLoaded', async function() {
        const comments = await fetchComments();
        const commentsList = document.getElementById('comments-list');
        commentsList.innerHTML = '';
        comments.forEach(function(commentObj) {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${commentObj.name}:</strong> ${commentObj.comment} <em style="font-size:smaller;">(${commentObj.time})</em>`;
                commentsList.appendChild(li);
        });
});

document.getElementById('comment-form').addEventListener('submit', async function(e) {
        e.preventDefault();
        const name = document.getElementById('name').value.trim();
        const comment = document.getElementById('comment').value.trim();
        if (name && comment) {
                const now = new Date();
                const time = now.toLocaleString();
                const commentObj = { name, comment, time };

                // Fetch, update, and save comments remotely
                const comments = await fetchComments();
                comments.push(commentObj);
                await saveComments(comments);

                // Add to UI
                const li = document.createElement('li');
                li.innerHTML = `<strong>${name}:</strong> ${comment} <em style="font-size:smaller;">(${time})</em>`;
                document.getElementById('comments-list').appendChild(li);

                document.getElementById('comment-form').reset();
        }
});
</script>